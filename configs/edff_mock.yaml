# EDFF (Euclid Deep Field Fornax) — mock SHINE pipeline configuration
#
# Runs the full constellation pipeline with real S3 file discovery but
# mock SHINE inference (random shear values). For development and testing.

field_name: EDFF

# First 48 Q1 MER tile IDs (EDFF region, ~12.1 deg²)
tile_ids:
  - 102018211
  - 102018212
  - 102018213
  - 102018664
  - 102018665
  - 102018666
  - 102018667
  - 102018668
  - 102018669
  - 102018670
  - 102018671
  - 102019122
  - 102019123
  - 102019124
  - 102019125
  - 102019126
  - 102019127
  - 102019128
  - 102019129
  - 102019130
  - 102019131
  - 102019585
  - 102019586
  - 102019587
  - 102019588
  - 102019589
  - 102019590
  - 102019591
  - 102019592
  - 102019593
  - 102019594
  - 102019595
  - 102019596
  - 102020053
  - 102020054
  - 102020055
  - 102020056
  - 102020057
  - 102020058
  - 102020059
  - 102020060
  - 102020061
  - 102020062
  - 102020063
  - 102020064
  - 102020065
  - 102020066
  - 102020527

tiling:
  sub_tile_grid: [4, 4]
  sub_tile_margin_arcmin: 1.0

data:
  vis_base_uri: "s3://nasa-irsa-euclid-q1/q1/VIS/"
  mer_base_uri: "s3://nasa-irsa-euclid-q1/q1/MER/"
  catalog_base_uri: "s3://nasa-irsa-euclid-q1/q1/catalogs/MER_FINAL_CATALOG/"
  s3_region: "us-east-1"
  s3_no_sign_request: true

output:
  catalog_warehouse: "/tmp/constellation-warehouse"
  catalog_namespace: "shear"
  catalog_table: "edff_shear"
  result_dir: "/tmp/constellation-results/"
  manifest_dir: "/tmp/constellation-manifests/"

mock_shine: true

# SHINE pass-through (opaque — not interpreted by constellation)
inference:
  method: map
  map_config:
    num_steps: 200
    learning_rate: 0.002
  rng_seed: 42

gal:
  type: Exponential
  flux: {type: LogNormal, center: catalog, sigma: 0.5}
  half_light_radius: {type: LogNormal, center: catalog, sigma: 0.3}
  shear:
    type: G1G2
    g1: {type: Normal, mean: 0.0, sigma: 0.05}
    g2: {type: Normal, mean: 0.0, sigma: 0.05}
  ellipticity:
    type: E1E2
    e1: {type: Normal, mean: 0.0, sigma: 0.3}
    e2: {type: Normal, mean: 0.0, sigma: 0.3}
  position:
    type: Offset
    dx: {type: Normal, mean: 0.0, sigma: 0.05}
    dy: {type: Normal, mean: 0.0, sigma: 0.05}
