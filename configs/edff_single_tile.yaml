# EDFF single tile — for quick testing of quadrant resolution + extraction
#
# One tile, 2×2 sub-tile grid (4 sub-tiles instead of 16).
# Uses real S3 data with mock SHINE inference.

field_name: EDFF

tile_ids:
  - 102019592

tiling:
  sub_tile_grid: [2, 2]
  sub_tile_margin_arcmin: 1.0

data:
  vis_base_uri: "s3://nasa-irsa-euclid-q1/q1/VIS/"
  mer_base_uri: "s3://nasa-irsa-euclid-q1/q1/MER/"
  catalog_base_uri: "s3://nasa-irsa-euclid-q1/q1/catalogs/MER_FINAL_CATALOG/"
  s3_region: "us-east-1"
  s3_no_sign_request: true

output:
  catalog_warehouse: "/tmp/constellation-warehouse"
  catalog_namespace: "shear"
  catalog_table: "edff_shear"
  result_dir: "/tmp/constellation-results/"
  manifest_dir: "/tmp/constellation-manifests/"
  extraction_dir: "/tmp/constellation-subtiles/"
  storage_base_uri: "s3://constellation-pipeline-dev-696356228955"

mock_shine: true

# SHINE pass-through (opaque — not interpreted by constellation)
inference:
  method: map
  map_config:
    num_steps: 200
    learning_rate: 0.002
  rng_seed: 42

gal:
  type: Exponential
  flux: {type: LogNormal, center: catalog, sigma: 0.5}
  half_light_radius: {type: LogNormal, center: catalog, sigma: 0.3}
  shear:
    type: G1G2
    g1: {type: Normal, mean: 0.0, sigma: 0.05}
    g2: {type: Normal, mean: 0.0, sigma: 0.05}
  ellipticity:
    type: E1E2
    e1: {type: Normal, mean: 0.0, sigma: 0.3}
    e2: {type: Normal, mean: 0.0, sigma: 0.3}
  position:
    type: Offset
    dx: {type: Normal, mean: 0.0, sigma: 0.05}
    dy: {type: Normal, mean: 0.0, sigma: 0.05}
